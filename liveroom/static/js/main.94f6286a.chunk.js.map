{"version":3,"sources":["redux/store.js","redux/actions/ChatView/ChatViewState.js","redux/actions/ChatView/newComponent.js","redux/actions/ChatView/SetName.js","redux/actions/ChatView/SetSessionID.js","redux/actions/ChatView/peer.js","redux/actions/ChatView/LiveVideoObject.js","redux/actions/ChatView/AppState.js","comps/ChatView.js","comps/ChatSenderInput.js","comps/Writingstate.js","comps/LiveSection.js","Class/dataListen.js","index.js"],"names":["reducers","combineReducers","ChatViewState","state","arguments","length","undefined","action","type","newState","push","Message","NewComponent","newComponent","SetName","name","SetSessionID","ID","peer","LiveVideoObject","newVideoObject","AppState","tag","tagValue","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ChatView","NewComponentstate","_this","setState","autoscroll","console","log","dispatch","this","rootscroll","document","querySelector","fixedScrollHeight","scrollHeight","clientHeight","scrollTop","react_default","a","createElement","getState","map","item","msg","key","Math","random","className","Component","ChatSenderInput","typing","send","concat","sender","event","keypressed","value","target","persist","_this2","disabled","onFocus","onBlur","onKeyPress","Writingstate","reloadApp","componentWillMount","writing","style","fontSize","color","LiveSection","videoState","audioState","reloadState","muteonoff","otherLiveMute","componentDidMount","audioSwitch","videoSwitch","pause","load","autoPlay","muted","id","onClick","class","listen","to","data","display","writingComponent","AdminControll","speer","tpeer","speer_","Peer","tpeer_","speer_c","connect","tpeer_c","on","getUserMedia","navigator","webkitGetUserMedia","mozGetUserMedia","bind","video","audio","stream","call","remoteStream","srcObject","err","adminSendPeerLoop","setInterval","adminSendPeer","open","$","ajax","url","req","type_","idmeet","$_GET","peerid","success","d","clearInterval","conn","answer","App","adminAccess","includes","remoteStream_","livevadeo","createRoomId","idRoom","student","parts","location","search","substr","split","i","temp","decodeURIComponent","LiveSection_LiveSection","height","Writingstate_Writingstate","overflowY","ChatView_ChatView","ChatSenderInput_ChatSenderInput","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.94f6286a.chunk.js","sourcesContent":["import { createStore, combineReducers } from 'redux';\r\nimport ChatViewState from './actions/ChatView/ChatViewState';\r\nimport NewComponent from './actions/ChatView/newComponent';\r\nimport SetName from './actions/ChatView/SetName';\r\nimport SetSessionID from './actions/ChatView/SetSessionID';\r\nimport peer from './actions/ChatView/peer';\r\nimport LiveVideoObject from './actions/ChatView/LiveVideoObject';\r\nimport AppState from './actions/ChatView/AppState';\r\n\r\n\r\n\r\nvar reducers  = combineReducers({\r\n    ChatViewState : ChatViewState,\r\n    NewComponent : NewComponent,\r\n    SetName : SetName,\r\n    SetSessionID: SetSessionID,\r\n    peer: peer,\r\n    LiveVideoObject : LiveVideoObject,\r\n    AppState: AppState,\r\n    \r\n})\r\n\r\n\r\nvar store = createStore(\r\n    reducers,\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n    \r\n    );\r\n\r\n\r\nexport default store;","export default function ChatViewState(state = [], action) {\r\n\r\n\r\n    // for updating state array\r\n\r\n    if (action.type === \"newState\") {\r\n        state = action.newState;\r\n    }\r\n\r\n    if (action.type === \"AddNewStateMessage\") {\r\n        state.push(action.Message);\r\n        return state;\r\n        \r\n    }\r\n\r\n\r\n    return state;\r\n\r\n\r\n\r\n}\r\n","export default function NewComponent(state = [], action) {\r\n\r\n\r\n    // for updating Component\r\n    if (action.type === \"newComponent\") {\r\n        state = action.newComponent;\r\n        return state;\r\n    }\r\n\r\n\r\n    return state;\r\n\r\n\r\n\r\n}","export default function SetName(state = \"Unknow\", action) {\r\n\r\n    if (action.type === \"setName\") {\r\n        \r\n        state = action.name;\r\n        return state;\r\n    }\r\n\r\n    return state;\r\n}","export default function SetSessionID(state = \"\", action) {\r\n\r\n    if (action.type === \"setSessionID\") {\r\n        \r\n        state = action.ID;\r\n        return state;\r\n    }\r\n\r\n    return state;\r\n}","export default function peer(state = [], action) {\r\n\r\n\r\n    // for updating Component\r\n    if (action.type === \"newPeer\") {\r\n        state = action.peer;\r\n        return state;\r\n    }\r\n\r\n\r\n    return state;\r\n\r\n\r\n\r\n}","\r\n\r\nexport default function LiveVideoObject(state = [], action) {\r\n\r\n\r\n    // for updating Component\r\n    if (action.type === \"newVideoObject\") {\r\n        state = action.newVideoObject;\r\n        return state;\r\n    }\r\n\r\n\r\n    return state;\r\n\r\n\r\n\r\n}","export default function AppState(state = {}, action) {\r\n\r\n\r\n    // for updating Component\r\n    if (action.type === \"state\") {\r\n        state[action.tag] = action.tagValue;\r\n        return state;\r\n    }\r\n\r\n\r\n    return state;\r\n\r\n\r\n\r\n}","import React, { Component } from 'react'\r\nimport $ from 'jquery'\r\nimport store from '../redux/store';\r\n\r\n\r\n\r\n\r\n\r\nexport default class ChatView extends Component {\r\n    \r\n    NewComponentstate = () => {\r\n        this.setState({});\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log('Hello world!');\r\n        \r\n        store.dispatch({\r\n            type: 'newComponent',\r\n            newComponent : this.NewComponentstate\r\n        })\r\n        \r\n    }\r\n    \r\n    autoscroll = false;\r\n\r\n    componentWillUpdate () {\r\n        var rootscroll = document.querySelector('.rootscroll');\r\n        var fixedScrollHeight = rootscroll.scrollHeight - rootscroll.clientHeight\r\n        var scrollTop = rootscroll.scrollTop;\r\n\r\n        \r\n        if (scrollTop === fixedScrollHeight) {\r\n            // console.log('true');\r\n            this.autoscroll = true;\r\n        } else {\r\n            // console.log('false');\r\n            this.autoscroll = false;\r\n            \r\n        }\r\n    }\r\n    componentDidUpdate () {\r\n        var rootscroll = document.querySelector('.rootscroll');\r\n\r\n        if (this.autoscroll === true) {\r\n\r\n            rootscroll.scrollTop = rootscroll.scrollHeight;\r\n        }\r\n        \r\n    }\r\n  \r\n    render() {\r\n      \r\n    return (\r\n      <div>    \r\n      {\r\n        store.getState().ChatViewState.map((item) => {\r\n            var msg = item;\r\n\r\n\r\n            return (\r\n                <div key={Math.random() * 10000000}>\r\n                <p className=\"text-view\">\r\n                    {(typeof msg === \"object\") ?  \r\n                    <span className='text-primary'>Unkown </span> :\r\n                     <span className='text-warning'>Unkown </span> }\r\n                    {(typeof msg === \"object\") ? msg[0] : msg}\r\n                </p>\r\n                \r\n            </div>\r\n            ) \r\n        })\r\n      }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport $ from 'jquery';\r\n\r\nimport store from '../redux/store';\r\n\r\nexport default class ChatSenderInput extends Component {\r\n\r\n  typing  = (state) => {\r\n\r\n\r\n    store.getState().peer.send(`Order->WriteState->[${state}]`);\r\n\r\n  }\r\n\r\n    sender = (event) => {\r\n\r\n        var keypressed = event.key;\r\n        var value = event.target.value;\r\n        \r\n        event.persist();\r\n        \r\n        \r\n        if (keypressed === \"Enter\") {\r\n          store.getState().peer.send('Order->WriteState->[false]')\r\n          if (value.length == 0) return;\r\n          store.dispatch({\r\n            type : 'AddNewStateMessage',\r\n            Message : value,\r\n            \r\n          });\r\n\r\n          store.getState().peer.send(value)\r\n          store.getState().NewComponent();\r\n          event.target.value = '';\r\n\r\n        } else {\r\n\r\n          this.typing(true); // for on focus and not typing a new message\r\n        }\r\n\r\n\r\n        \r\n    }\r\n  render() {\r\n    return (\r\n      <div className=\"w-100 h-100\">\r\n    \r\n      <input className=\"input-sender\" disabled  onFocus={() => this.typing(true)} onBlur={() => this.typing(false)} onKeyPress={this.sender} />\r\n        \r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport store from '../redux/store';\r\n\r\nexport default class Writingstate extends Component {\r\n  reloadApp = () => {\r\n    this.setState({});\r\n  }\r\n    componentWillMount = () => {\r\n      store.dispatch({\r\n        type : 'state', \r\n        tag  : 'writing',\r\n        tagValue : false,\r\n    })\r\n    store.dispatch({\r\n      type : 'state', \r\n      tag  : 'writingComponent',\r\n      tagValue : this.reloadApp,\r\n  })\r\n    };\r\n    \r\n  render() {\r\n    return (\r\n      <div className={store.getState().AppState.writing === true ?  'writingAnimationIn' : 'writingAnimationOut'}>\r\n\r\n      <label  style={{fontSize : 18, color : '#00C851'}}>Writing..</label>\r\n        \r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport store from '../redux/store';\r\n\r\n\r\nexport default class LiveSection extends Component {\r\n  state = {\r\n    videoState: true,\r\n    audioState: true,\r\n  }\r\n\r\n  \r\n\r\n    reloadState = () => {\r\n        this.setState({})\r\n    }\r\n\r\n    muteonoff = () => {\r\n      this.setState({\r\n        otherLiveMute: !this.state.otherLiveMute,\r\n      })\r\n    } \r\n\r\n    componentDidMount = () => {\r\n      \r\n      store.dispatch({\r\n        type : 'state',\r\n        tag : 'livevadeo',\r\n        tagValue : this.reloadState,\r\n        \r\n      })\r\n\r\n      store.dispatch({\r\n        type : 'state',\r\n        tag : 'muteonoff',\r\n        tagValue : this.muteonoff,\r\n        \r\n      })\r\n    };\r\n    \r\n    audioSwitch = () => {\r\n\r\n      if (this.state.audioState === true) {\r\n        store.getState().peer.send('audio->state->[off]')\r\n      } else {\r\n      store.getState().peer.send('audio->state->[on]')\r\n\r\n      }\r\n      this.setState({\r\n        audioState :  this.state.audioState === true ? false : true,\r\n      })\r\n\r\n    }\r\n    \r\n    videoSwitch = () => {\r\n      if (this.state.videoState === true) {\r\n\r\n        store.getState().peer.send('video->state->[off]')\r\n        document.querySelector('#liveVideo-you').pause();\r\n\r\n      } else {\r\n      document.querySelector('#liveVideo-you').load();\r\n      store.getState().peer.send('video->state->[on]')\r\n\r\n      }\r\n      this.setState({\r\n        videoState :  this.state.videoState === true ? false : true,\r\n      })\r\n\r\n    }\r\n  render() {\r\n    return (\r\n      <div className=\"liveSection\">\r\n     <div className=\"V\">\r\n\r\n       \r\n     <video autoPlay  muted={ this.state.otherLiveMute}  id='liveVideo'></video>\r\n     \r\n     \r\n     </div>\r\n     <div className=\"V\">\r\n\r\n\r\n     <video  autoPlay  muted={true} id='liveVideo-you'></video>\r\n      </div>\r\n\r\n      <div className=\"tools\">\r\n\r\n      <button onClick={this.videoSwitch}>{this.state.videoState === true  ? <i class=\"material-icons \">videocam</i> : <i class=\"material-icons \">videocam_off</i> }</button>\r\n       \r\n      <button onClick={this.audioSwitch}>{this.state.audioState === true  ? <i class=\"material-icons \">volume_up</i> : <i class=\"material-icons \">volume_off</i> }</button>\r\n      \r\n\r\n      </div>\r\n\r\n     </div>\r\n    )\r\n  }\r\n}\r\n","import store from '../redux/store';\r\nimport $ from 'jquery';\r\n\r\n\r\nvar listen = {\r\n\r\n    to: function (data) {\r\n\r\n        \r\n          \r\n        if (data === \"video->state->[off]\"){\r\n          \r\n            document.querySelector('#liveVideo').style.display = 'none';\r\n            // document.querySelector('#liveVideo').pause();\r\n            // document.querySelector('#liveVideo').srcObject = null;\r\n                \r\n            return this;\r\n        }\r\n\r\n        if (data === \"video->state->[on]\"){\r\n\r\n            document.querySelector('#liveVideo').style.display = 'inline-block';\r\n            // document.querySelector('#liveVideo').srcObject = window.remoteStream_;\r\n            // document.querySelector('#liveVideo').load();\r\n            return this;\r\n        }\r\n\r\n        if (data === \"Order->WriteState->[true]\"){\r\n            store.dispatch({\r\n              type : 'state', \r\n              tag  : 'writing',\r\n              tagValue : true,\r\n            })\r\n            store.getState().AppState.writingComponent();\r\n            return this;\r\n          }\r\n          if (data === \"Order->WriteState->[false]\") {\r\n            store.dispatch({\r\n              type : 'state', \r\n              tag  : 'writing',\r\n              tagValue : false,\r\n          })\r\n          store.getState().AppState.writingComponent();\r\n          return this;\r\n          }\r\n\r\n          if (data == \"audio->state->[off]\") {\r\n            store.getState().AppState.muteonoff();\r\n\r\n            return this;\r\n\r\n          }\r\n\r\n          if (data == \"audio->state->[on]\") {\r\n            store.getState().AppState.muteonoff();\r\n            return this;\r\n        }\r\n\r\n          store.dispatch({\r\n            type : 'AddNewStateMessage',\r\n            Message : [data]\r\n            \r\n          });\r\n          store.getState().NewComponent();\r\n\r\n\r\n\r\n        return this;\r\n    }\r\n\r\n}\r\nvar AdminControll = {\r\n\r\n\r\n  ViewUsers: function (speer, tpeer) {\r\n\r\n\r\n    // eslint-disable-next-line no-undef\r\n    window.speer_ = new Peer();\r\n    // eslint-disable-next-line no-undef\r\n    window.tpeer_ = new Peer();\r\n\r\n    window.speer_c = window.speer_.connect(speer)\r\n    \r\n    window.tpeer_c = window.tpeer_.connect(tpeer)\r\n\r\n    window.speer_c.on('open', function(){\r\n      // here you have conn.id\r\n      window.speer_c.send('hi! speer_c');\r\n    });\r\n\r\n    window.tpeer_c.on('open', function(){\r\n      // here you have conn.id\r\n      window.tpeer_c.send('hi! tpeer_c');\r\n    });\r\n\r\n\r\n    var getUserMedia = (window.navigator.getUserMedia || window.navigator.webkitGetUserMedia || window.navigator.mozGetUserMedia).bind(navigator);\r\n\r\n    getUserMedia({video: true, audio: false}, function(stream) {\r\n      console.log('here 1')\r\n      var call = window.speer_.call(speer, stream);\r\n      call.on('stream', function(remoteStream) {\r\n        console.log('s', remoteStream)\r\n        document.querySelector('#liveVideo').srcObject = remoteStream; // student\r\n        // Show stream in some video/canvas element.\r\n      });\r\n    }, function(err) {\r\n      console.log('Failed to get local stream' ,err);\r\n    });\r\n\r\n\r\n    getUserMedia({video: true, audio: false}, function(stream) {\r\n      console.log('here 2')\r\n      var call = window.tpeer_.call(tpeer, stream);\r\n      call.on('stream', function(remoteStream) {\r\n        // Show stream in some video/canvas element.\r\n        console.log('t', remoteStream)\r\n        document.querySelector('#liveVideo-you').srcObject = remoteStream; // teacher\r\n\r\n      });\r\n    }, function(err) {\r\n      console.log('Failed to get local stream' ,err);\r\n    });\r\n\r\n\r\n    \r\n\r\n\r\n  },\r\n\r\n  send: function (type) {\r\n\r\n    window.adminSendPeerLoop = setInterval( () => {\r\n\r\n    \r\n      if (window.adminSendPeer.open == true) {\r\n\r\n\r\n     $.ajax({\r\n      url: '../ajax/meet.php',\r\n      type: 'post',\r\n      data : {\r\n        req : 'add_peer_ids_to_meet',\r\n        type_: type, // ( student || teacher ).peer.id \r\n        idmeet: window.$_GET.idmeet,\r\n        peerid: window.adminSendPeer.id,\r\n      },\r\n      success: (d) => {\r\n        console.log(d);\r\n      }\r\n    });\r\n\r\n    clearInterval(window.adminSendPeerLoop);\r\n\r\n  }\r\n\r\n})\r\n\r\n\r\n  \r\n\r\n  },\r\n  Active : function () {\r\n\r\n    // eslint-disable-next-line no-undef\r\n    window.adminSendPeer = new Peer(); \r\n\r\n    window.adminSendPeer.on('open', function(){\r\n\r\n    window.adminSendPeer.on('connection', function(conn) {\r\n      conn.on('data', function(data){\r\n        console.log(data);\r\n      });\r\n\r\n      var getUserMedia = (window.navigator.getUserMedia || window.navigator.webkitGetUserMedia || window.navigator.mozGetUserMedia).bind(navigator);\r\n\r\n      conn.on('call',\r\n       function(call) {\r\n        getUserMedia({video: true, audio: true}, function(stream) {\r\n          console.log('Calling you')\r\n          call.answer(stream); // Answer the call with an A/V stream.\r\n          // call.on('stream', function(remoteStream) {\r\n          //   // Show stream in some video/canvas element.\r\n          // });\r\n        }, function(err) {\r\n          console.log('Failed to get local stream' ,err);\r\n        });\r\n      });\r\n\r\n    });\r\n  });\r\n\r\n  },\r\n\r\n  \r\n\r\n}\r\n\r\n\r\n\r\nexport {\r\n  listen,\r\n  AdminControll,\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport ReactDOM  from 'react-dom';\r\n\r\nimport $ from 'jquery';\r\n\r\nimport ChatView from './comps/ChatView';\r\n\r\nimport ChatSenderInput from './comps/ChatSenderInput'\r\n\r\nimport store from './redux/store';\r\n\r\nimport './styles/index.css';\r\n\r\nimport Writingstate from './comps/Writingstate';\r\n\r\nimport LiveSection from './comps/LiveSection';\r\n\r\nimport {listen, AdminControll} from './Class/dataListen';\r\n\r\n\r\nAdminControll.Active(); // for admin!;\r\n\r\n\r\n// eslint-disable-next-line no-undef\r\nwindow.peer = new Peer(); \r\n\r\n\r\nclass App extends Component {\r\n  \r\n  componentDidMount() {\r\n\r\n    // var v_x = document.querySelector('#liveVideo');\r\n    // var v_y = document.querySelector('#liveVideo-you');\r\n\r\n    // v_y.volume = 0;\r\n\r\n    \r\n    \r\n    \r\n    if (!window.$_GET['roomId'] && window.$_GET.adminAccess == undefined) {\r\n\r\n\r\n\r\n      // eslint-disable-next-line no-undef\r\n\r\n      window.createRoomId = setInterval(() => {\r\n        \r\n        if (window.peer.open === true) { \r\n\r\n          $.ajax({\r\n            url: '../ajax/meet.php',\r\n            type: 'post',\r\n            data : {\r\n              req : 'addRoomLive',\r\n              idmeet: window.$_GET.idmeet,\r\n              idRoom: window.peer.id,\r\n              student: window.$_GET.student,\r\n            },\r\n            success: (d) => {\r\n              console.log(d);\r\n            }\r\n          })\r\n\r\n          AdminControll.send('teacher') // upload teacher admin peer id;\r\n\r\n          clearInterval(window.createRoomId);\r\n          // console.log(`http://localhost:3000/?roomId=${window.peer.id}`)\r\n\r\n\r\n        } \r\n\r\n      }, 10000);\r\n\r\n      window.peer.on('connection', function(conn) {\r\n\r\n\r\n        document.querySelector('.input-sender').disabled = false;\r\n        \r\n        store.dispatch({\r\n          type: 'newPeer',\r\n          peer: conn,\r\n          \r\n        })       \r\n        \r\n        \r\n       \r\n\r\n        var getUserMedia = (window.navigator.getUserMedia || window.navigator.webkitGetUserMedia || window.navigator.mozGetUserMedia).bind(navigator);\r\n        window.peer.on('call', function(call) {\r\n          getUserMedia({video: true, audio: true}, function(stream) {\r\n\r\n            call.answer(stream); // Answer the call with an A/V stream.\r\n            call.on('stream', function(remoteStream) {\r\n\r\n              // stream.stop();\r\n            window.remoteStream_ = remoteStream;              \r\n            document.querySelector('#liveVideo').srcObject = remoteStream; // for see target\r\n            document.querySelector('#liveVideo-you').srcObject = stream; // for see you\r\n\r\n          store.dispatch({\r\n            type : 'newVideoObject',\r\n            newVideoObject : remoteStream,\r\n          })\r\n\r\n          store.getState().AppState.livevadeo();\r\n            });\r\n          }, function(err) {\r\n            console.log('Failed to get local stream' ,err);\r\n          });\r\n        });\r\n\r\n\r\n\r\n        conn.on('data', function(data){\r\n            listen.to(data);\r\n        });\r\n        \r\n      });\r\n    \r\n    } else {\r\n\r\n      if (window.$_GET.adminAccess != undefined) {\r\n\r\n        $.ajax({\r\n          url: '../ajax/meet.php',\r\n          type: 'post',\r\n          data : {\r\n            req : 'isAdmin',\r\n          },\r\n          success: (d) => {\r\n            if (d.includes('true') == true) {\r\n              \r\n              console.log('admin', d)\r\n              \r\n            AdminControll.ViewUsers(\r\n              window.$_GET.speer,\r\n              window.$_GET.tpeer,\r\n            );\r\n\r\n\r\n            } else {\r\n              console.log('No admin', d)\r\n          // window.location.assign('./');\r\n              \r\n            }\r\n          }\r\n        });\r\n\r\n          \r\n      } else {\r\n\r\n      \r\n\r\n      var conn = window.peer.connect(window.$_GET['roomId']);\r\n      store.dispatch({\r\n        type: 'newPeer',\r\n        peer: conn,\r\n      })\r\n\r\n      AdminControll.send('student') // upload student admin peer id;\r\n\r\n\r\n\r\n\r\n        var getUserMedia = (window.navigator.getUserMedia || window.navigator.webkitGetUserMedia || window.navigator.mozGetUserMedia).bind(navigator);\r\n        getUserMedia({video: true, audio: true}, function(stream) {\r\n          var call = window.peer.call(window.$_GET['roomId'], stream);\r\n          call.on('stream', function(remoteStream) {\r\n\r\n          window.remoteStream_ = remoteStream;\r\n          document.querySelector('#liveVideo').srcObject = remoteStream; // for see target\r\n          document.querySelector('#liveVideo-you').srcObject = stream; // for see you\r\n            store.dispatch({\r\n              type : 'newVideoObject',\r\n              newVideoObject : remoteStream,\r\n            })\r\n            store.getState().AppState.livevadeo();\r\n\r\n\r\n            // Show stream in some video/canvas element.\r\n          });\r\n        }, function(err) {\r\n          console.log('Failed to get local stream' ,err);\r\n        })\r\n\r\n        // on open will be launch when you successfully connect to PeerServer\r\n        conn.on('open', function(){\r\n          // here you have conn.id\r\n          document.querySelector('.input-sender').disabled = false;\r\n\r\n          window.peer.on('connection', function(conn) {\r\n\r\n          \r\n          conn.send('hi!');\r\n        });\r\n        conn.on('data', function(data){\r\n          // Will print 'hi!'\r\n          listen.to(data);\r\n\r\n\r\n        });\r\n        \r\n        }\r\n      )\r\n    }\r\n    }\r\n  }\r\n  \r\n  componentWillMount() {\r\n    var parts = window.location.search.substr(1).split(\"&\");\r\n    window.$_GET = {};\r\n    for (var i = 0; i < parts.length; i++) {\r\n        var temp = parts[i].split(\"=\");\r\n        window.$_GET[decodeURIComponent(temp[0])] = decodeURIComponent(temp[1]);\r\n    }\r\n  }\r\n  render() {\r\n    \r\n    \r\n    \r\n    return (\r\n      <div className='row'>\r\n        \r\n\r\n      <div className='col-sm-12 col-xl-3'>\r\n        <LiveSection />\r\n      </div>\r\n      \r\n      \r\n      <div className='col  col-sm-9' style={{ height : '100vh'}}>\r\n  \r\n\r\n        <div className='col  col-sm-12' style={{height : '5%'}}>\r\n            <Writingstate />\r\n            </div>\r\n          <div className='col  col-sm-12 rootscroll' style={{height : '85vh', overflowY : 'scroll'}}>\r\n            <ChatView />\r\n          </div>\r\n\r\n          <div className='col  col-sm-12' style={{height : '10%'}}>\r\n            <ChatSenderInput />\r\n          </div>\r\n     \r\n      \r\n      \r\n      </div>\r\n      </div>\r\n\r\n\r\n\r\n    )\r\n  }\r\n}\r\n\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  $('#root')[0]\r\n\r\n)\r\n\r\n\r\n"],"sourceRoot":""}